{% extends "layout.html" %}

{% block title %}Sign Up{% endblock title %}

{% block main %}

    {% if as_store or as_customer %}
	<div id="signup_form_side_by_side_wrapper" class="d-flex justify-content-between">
		<div id="signup_type_div" class="text-center flex-column d-flex align-items-center justify-content-center">
			<h1>Sign Up</h1>
			{% if as_store %}
				<img class="mt-3" src="{{ url_for("static", filename='imgs/store_icon.png') }}" alt="Store Icon">
			{% else %}
				<img class="mt-3" src="{{ url_for("static", filename='imgs/customer_icon.png') }}" alt="Customer Icon">
			{% endif %}
		</div>

		<div id="signup_info_div">
			{% if as_store %}
				<form method="POST" action="{{ url_for('all_routes.sign_up_as_store') }}" id="signup_form" enctype="multipart/form-data">
					<div class="form-group">
						<label for="store_name_input">Store Name</label>
						<input type="text" name="store_name" required autofocus class="form-control" id="store_name_input" placeholder="Enter Store Name" required {% if store_name %}value="{{ store_name }}"{% endif %}>

						{% if store_name_error %}
							<div class="invalid_feedback">
								{{ store_name_error }}
							</div>
						{% endif %}
					</div>

					<div class="form-group">
						<label for"contact_number_input">Contact Number</label>
						<input type="tel" name="contact_number" required class="form-control" id="contact_number_input" aria-describedby="contact_number_help" placeholder="Contact Number" required {% if contact_number %}value="{{ contact_number }}"{% endif %}>
						<small id="contact_number_help" class="form-text text-muted">This number will be available to customers to contact your store!</small>

						{% if contact_number_error %}
							<div class="invalid_feedback">
								{{ contact_number_error }}
							</div>
						{% endif %}
					</div>

					<div class="form-group">
						<label for"mobile_money_number_input">Lonestar Mobile Number</label>
						<input type="tel" required name="mobile_money_number" class="form-control" id="mobile_money_number_input" placeholder="Mobile Money Number" required {% if mobile_money_number %}value="{{ mobile_money_number }}"{% endif %}>
						<small id="about_store_help" class="form-text text-muted">This number will be used to purchase items!</small>

						{% if mobile_money_number_error %}
							<div class="invalid_feedback">
								{{ mobile_money_number_error }}
							</div>
						{% endif %}
					</div>
					
					<div class="form-group">
						<label for="head_branch_location_input">Head Branch Location</label>
						<input name="head_branch_location" class="form-control" required id="head_branch_location_input" aria-describedby="head_branch_location_help" placeholder="Enter Head Branch Location" required {% if head_branch_location %} value="{{ head_branch_location }}"{% endif %}>
						<!--add a pop up to tell the delimeter-->
						<small id="head_branch_location_help" class="form-text text-muted">Enter your Head / Main Branch Location.</small>

						{% if head_branch_location_error %}
							<div class="invalid_feedback">
								{{ head_branch_location_error }}
							</div>
						{% endif %}
					</div>
					
					<div class="form-group">
						<label for="email_input">Email address</label>
						<input type="email" name="email" class="form-control" id="email_input" aria-describedby="email_help" placeholder="Enter email address" required {% if email %}value="{{ email }}"{% endif %}>
						<small id="email_help" class="form-text text-muted">We'll never share your email with anyone else. It will be used to notify your store on situations.</small>

						{% if email_error %}
							<div class="invalid_feedback">
								{{ email_error }}
							</div>
						{% endif %}
					</div>
					
					<div class="form-group">
						<label for"password_input">Password</label>
						<input type="password" name="password" required class="form-control password_input" id="password_input" placeholder="Password" required {% if password %}value="{{ password }}"{% endif %}>

						{% if password_error %}
							<div class="invalid_feedback">
								{{ password_error }}
							</div>
						{% endif %}
					</div>

					<div class="form-group">
						<label for"confirm_password_input">Confirm Password</label>
						<input type="password" name="confirm_password" required class="form-control password_input" id="confirm_password_input" placeholder="Confirm Password" required {% if confirm_password %}value="{{ confirm_password }}"{% endif %}>

						{% if confirm_password_error %}
						<div class="invalid_feedback">
							{{ confirm_password_error }}
						</div>
						{% endif %}

						<input type="checkbox" id="show_passwords">
						<label for="show_passwords" class="show_passwords_label">Show Passwords</label>
					</div>
					
					<!--<div class="form-group"> -->
					<!--    <label for="product_categories_textarea">Categories of Product</label> -->
					<!--    <textarea name="product_categories" class="form-control" id="product_categories_textarea" aria-describedby="product_categories_help" placeholder="Enter Products Type" required>{% if product_categories %}{{ product_categories }}{% endif %}</textarea> -->
					<!--    <!-1-add a pop up to tell the delimeter -->
					<!--    <small id="product_categories_help" class="form-text text-muted">Enter the Categories of Products you sell seperated by a ',' (comma) avoid `and` use `&amp;` instead.<br>Example: Construction Material, Home Appliances, Office Supplies, Stationary</small> -->

					<!--    {% if product_categories_error %} -->
					<!--        <div class="invalid_feedback"> -->
					<!--            {{ product_categories_error }} -->
					<!--        </div> -->
					<!--    {% endif %} -->
					<!--</div> -->

					<!--<div class="form-group"> -->
					<!--    <label for="branches_location_textarea">Branches Location</label> -->
					<!--    <textarea name="branches_location" class="form-control" id="branches_location_textarea" aria-describedby="branches_location_help" placeholder="Enter Branches Location" required>{% if branches_location %}{{ branches_location }}{% endif %}</textarea> -->
					<!--    1-add a pop up to tell the delimeter -->
					<!--    <small id="branches_location_help" class="form-text text-muted">Enter each Branch Location seperated by a ',' (comma) avoid `and` use `&amp;` instead.<br>Example: Randall &amp; Benson Street, Red Light, Duala, Waterside, ELWA Junction</small> -->

					<!--    {% if branches_location_error %} -->
					<!--        <div class="invalid_feedback"> -->
					<!--            {{ branches_location_error }} -->
					<!--        </div> -->
					<!--    {% endif %} -->
					<!--</div> -->

					<div class="form-group">
						<label>Upload Profile / Logo</label>

						<div id="profile_picture_preview_div"></div>

						<div class="custom-file">
							<input type="file" class="custom-file-input" name="profile_picture_input" id="customFile">
							<label class="custom-file-label" for="customFile">Select Picture</label>
						</div>

						{% if file_upload_error %}
							<div class="invalid_feedback">
								{{ file_upload_error }}
							</div>
						{% endif %}
					</div>

					<div class="form-group">
						<label for"about_store_textarea">About Store</label>
						<textarea id="about_store_textarea" class="form-control" name="about_store" placeholder="More Information About Store" aria-describedby="about_store_help">{% if about_store %}{{ about_store }}{% endif %}</textarea>
						<small id="about_store_help" class="form-text text-muted">Optional: Provide Information about your store that may not have been requested!</small>
					</div>
					
					<button style="margin-bottom: 100px" type="submit">Sign Up</button>
				</form>
			{% else %}
				<form action="{{ url_for("all_routes.sign_up_as_customer") }}" method="POST" id="signup_form">
					<div class="form-group">
						<label for="full_name_input">Full Name</label>
						<input type="text" name="full_name" autofocus class="form-control" id="full_name_input" placeholder="Enter Full Name" required {% if full_name %}value="{{ full_name }}"{% endif %}>

						{% if full_name_error %}
							<div class="invalid_feedback">
								{{ full_name_error }}
							</div>
						{% endif %}
					</div>

					<div class="form-group">
						<label for="email_input">Email address</label>
						<input type="email" name="email" class="form-control" id="email_input" placeholder="Enter Email Address" required {% if email %}value="{{ email }}"{% endif %}>

						{% if email_error %}
							<div class="invalid_feedback">
								{{ email_error }}
							</div>
						{% endif %}
					</div>

					<div class="form-group">
						<label for="mobile_money_number_input">Mobile Money Number</label>
						<input type="tel" name="mobile_money_number" class="form-control" id="mobile_money_number_input" placeholder="Enter Mobile Money Number" required {% if mobile_money_number %}value="{{ mobile_money_number }}"{% endif %}>
						<small id="about_store_help" class="form-text text-muted">This number is what will be used to purchase items!</small>

						{% if mobile_money_number_error %}
							<div class="invalid_feedback">
								{{ mobile_money_number_error }}
							</div>
						{% endif %}
					</div>

					<div class="form-group">
						<label for="password_input">Password</label>
						<input type="password" name="password" class="form-control password_input" id="password_input" placeholder="Enter Password" required {% if password %}value="{{ password }}"{% endif %}>

						{% if password_error %}
							<div class="invalid_feedback">
								{{ password_error }}
							</div>
						{% endif %}
					</div>

					<div class="form-group">
						<label for="confirm_password_input">Confirm Password</label>
						<input type="password" name="confirm_password" class="form-control password_input" id="confirm_password_input" placeholder="Confirm Password" required {% if confirm_password %}value="{{ confirm_password }}"{% endif %}>

						{% if confirm_password_error %}
							<div class="invalid_feedback">
								{{ confirm_password_error }}
							</div>
						{% endif %}

						<input type="checkbox" id="show_passwords">
						<label for="show_passwords" class="show_passwords_label">Show Passwords</label>
					</div>

					<button style="margin-bottom: 100px" type="submit">Sign Up</button>
				</form>
			{% endif %}
		</div>
	</div>
    
    {% else %}
        <div id="account_type_div">
            {% for account_type in ACCOUNT_TYPES %}
                <a href="/sign-up/{{ account_type.type | lower }}">
                    <div>
                        <div class="account_type_img_div">
                            <img src="{{ account_type.path }}" alt="{{ account_type.type | title }}">
                        </div>

                        <div class="account_type_title_div">
                            <h2>{{ account_type.type | title }}</h2>
                        </div>
                    </div>
                </a>
            {% endfor %}
        </div>
    {% endif %}

    

{% endblock main %}
